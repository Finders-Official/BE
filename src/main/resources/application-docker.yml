# ========================================
# Docker 환경 설정 (로컬 개발 + Docker MySQL)
# ========================================
# 사용법: ./gradlew bootRun --args='--spring.profiles.active=docker'
# ========================================

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/finders?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul
    username: finders
    password: finders123
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      idle-timeout: 30000
      connection-timeout: 20000

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true

# ========================================
# JWT 설정
# ========================================
jwt:
  secret: ${JWT_SECRET:docker-development-secret-key-must-be-at-least-256-bits-long-for-hs256}
  access-token-expiry: 3600000      # 1시간
  refresh-token-expiry: 604800000   # 7일

# ========================================
# OAuth2 설정
# ========================================
oauth2:
  kakao:
    client-id: ${KAKAO_CLIENT_ID:docker-kakao-client-id}
    client-secret: ${KAKAO_CLIENT_SECRET:docker-kakao-secret}
    redirect-uri: http://localhost:8080/api/auth/kakao/callback
  apple:
    client-id: ${APPLE_CLIENT_ID:docker-apple-client-id}
    team-id: ${APPLE_TEAM_ID:docker-team-id}
    key-id: ${APPLE_KEY_ID:docker-key-id}
    redirect-uri: http://localhost:8080/api/auth/apple/callback

# ========================================
# Google Cloud 설정
# ========================================
google:
  cloud:
    vision:
      enabled: false
    project-id: ${GOOGLE_CLOUD_PROJECT:docker-project}

# ========================================
# Logging
# ========================================
logging:
  level:
    org.hibernate.SQL: DEBUG
    org.hibernate.orm.jdbc.bind: TRACE
